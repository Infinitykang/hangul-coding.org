# 도구 및 설정

안타깝게도, 모든 것을 한글로 쓸 수 있는 것은 아닙니다. 더러는 예상치 못한 불편을 겪을 수도 있고, 한글을 비롯한 다국어를 지원하지 않는 소프트웨어나 서비스도 많습니다. 그런 걸림돌에 걸려 넘어지다 보니 한글로 코딩하는 걸 포기하는 편이 쉬웠나 봅니다.

> 그런데, 한글을 쓰는 우리가 문제인가요? 한글을 지원하지 않는 그 소프트웨어가 문제인가요?

한편, 누가 문제인지의 잘잘못을 떠나, 때로는 간단한 설정을 바꿔서 한글을 잘 쓸 수 있기도 하고, 아니면 다른 대안 소프트웨어를 찾을 수 있는 경우도 있으니, 조금 더 도전해 볼 만 합니다.

OS X 환경 위주로 관련한 정보를 조금 적어 보았습니다.

## Git

``` shell
git config --global core.quotepath false
git config --global core.precomposeunicode true
```

## cURL

터미널에서 HTTP 요청을 처리하는 cURL, 참 훌륭합니다. OS X에는 기본 포함돼 있어서 참 편리하지요. 그런데 아쉽게도 IDN(국제 도메인명)은 물론 한글 경로명이 잘 처리되지 않네요. 설정으로 해결할 수 있는 문제가 아닌 것 같아서, 대안을 찾아봤습니다.

HTTPie라고 꽤 매력적인 툴을 찾았습니다. 국제 도메인 이름도 잘 되고, 한글 경로명도 아주 잘 처리해줍니다.

> [HTTPie: a CLI, cURL-like tool for humans](https://github.com/jkbrzt/httpie)

``` shell
brew install httpie
http http://한글코딩.org/유니코드
```

보너스로, 출력 화면 색상이 꽤 화려합니다.

## OS X Bash

Mac OS X El Capitan에 기본 설치된 Bash 3.2는 한글을 쓰는 데는 별 문제가 없으나, 파일이름 완성(TAB) 기능이 잘 되지 않습니다. Bash 4.0에서는 해결된 문제이므로, 아래처럼 [Homebrew][]를 써서 최신 버전을 설치해서 쓰면 해결됩니다.

``` shell
brew install bash
```

아니면, OS X에 기본 설치된 zsh을 쓰면 별다른 문제가 없어 보입니다.

--------

# 한글 코딩 글꼴

한글로 코딩할 때 해결할 또 한가지 문제는, 마음에 드는 한글 코딩 글꼴을 찾아야 한다는 점입니다.

## 코딩 글꼴의 조건

텍스트 에디터나 개발 통합 환경(IDE)에서 코딩할 때 쓰는 글꼴의 조건을 꼽아 본다면, 아래의 내용이 꼭 들어갈 것 같습니다.

1. 비슷한 글자로 잘못 읽히지 않도록 구별이 명확해야 한다.
1. 고정폭 글꼴: 글자의 너비가 일정해한다.

일반 글꼴은 문맥상 비슷한 기호가 서로 구별되는 경우가 많고, 사람이 읽는 경우 더더욱 문제가 없지만, 프로그래밍 용도의 글꼴은 정확하게 구별할 수 있어야 합니다.


> * 0Oo - 숫자 0, 대문자 O, 소문자 o가 서로 구별이 쉬워야합니다.
> * 1lI| - 숫자 1, 소문자 l, 대문자 I, 기호 |도 구별할 수 있어야 하지요.

``` plain
0Oo  - 숫자 0, 대문자 O, 소문자 o가 서로 구별이 어렵습니다.
1lI| - 숫자 1, 소문자 l, 대문자 I, 기호 |도 마찬가지입니다.
```

위의 둘 중, 아래쪽에 쓴 글꼴이 훨씬 구별이 쉽습니다.

그리고, 글자의 너비 문제는, 한글만 쓸 경우에는 큰 문제가 없습니다. 한글은 글자의 특성상 글자의 너비가 일정한 게 보기에도 좋기 때문에, 대부분의 한글 글꼴이 고정폭(fixed-width)입니다. 모든 한글 글자가 같은 너비를 차지합니다. 그러나 영자나 기호의 경우 기호의 폭이 다양합니다. 가변폭 글꼴이라고 부르고, 예를 들어 i같은 기호는 좁게, W같은 기호는 넓게 표기됩니다.

그런데, 소스 코드는 들여쓰기(indentation)이 중요하고, 여러 줄에 걸쳐 같은 컬럼은 나란히 보여야 합니다. 그래서 소문자 i든 대문자 W든 동일한 폭으로 그려져야 합니다.

한글 글꼴에 들어 있는 한글 글자는 고정폭이지만, 거기에 포함된 영자나 기호가 가변폭인 경우가 많아서, 보통의 한글 글꼴은 코딩 용도로 쓰기에 불편한 것입니다.

## 해결책

1. 코딩용 한글 글꼴인 [나눔고딕 코딩글꼴]이나 [D2 Coding 글꼴]을 쓴다.
1. 한글과 영문 글꼴을 따로 지정해 쓴다.
1. [아이디어] 한글 코딩 글꼴을 만들어서 쓴다.

### 1. 코딩용 한글 글꼴 쓰기

[나눔고딕 코딩글꼴]과 [D2 Coding 글꼴]이 코딩용 한글 글꼴로 공개돼 있으며, 한글/영자/기호 모두 고정폭 글꼴이며 비슷한 기호의 구별도 명확합니다. 전자는 나눔고딕체를 바탕으로 만들었고, 후자는 나눔바른고딕을 바탕으로 만들었다고 합니다.

글꼴을 내려받아 설치하고, 터미널, 텍스트 에디터, IDE 등에 해당 글꼴을 쓰도록 설정해서 쓰면 됩니다.

### 2. 한글과 영문 글꼴을 따로 설정

어떤 환경에서는 문자 집합마다 다른 글꼴을 지정해서 쓸 수 있는데, 이럴 때는, 한글 문자 집합(U+AC00 ~ U+D7AF 등)에 대해 선호하는 한글 글꼴을 별도 지정하고, 기본 글꼴로는 영문 개발자(고정폭) 글꼴을 지정하면 됩니다.

아래는 추천 드릴만한 영문 코딩 글꼴입니다.

* Roboto Mono
* Source Code Pro
* Inconsolata

예를 들어, 저는 [Emacs]에 아래처럼 기본은 Roboto Mono로 두고, 한글의 경우만 Noto Sans로 설정해서 쓰고 있습니다.

``` clojure
(when (display-graphic-p)
  (set-default-font (font-spec :family "Roboto Mono" :size 12 :weight 'light))
  (set-fontset-font "fontset-default" 'hangul
                    (font-spec :family "Noto Sans CJK KR" :size 15)))
```

그리고, OS X의 별도 터미널 에뮬레이터인 [iTerm]도 일반(regular) 글꼴과, 그 외(non-ASCII) 글꼴을 나눠 지정할 수 있으므로, 같은 방법을 써서 터미널에서 쓰는 모든 앱에서 문제를 해결할 수 있습니다.

### 3. 한글 코딩 글꼴 만들어 쓰기

> 이 부분은 아직 아이디어에 불과할 뿐, 직접 해 본 것은 아닙니다.

선호하는 **영문 코딩 글꼴**과, 선호하는 **일반 한글 글꼴**을 고르고, 그 둘을 합치면 어떨까요?

> 영문 코딩 글꼴 + 일반 한글 글꼴 = 한글 코딩 글꼴

한글 글꼴은 글자수가 매우 많지만, 사실 영문 글꼴은 그 글자 수가 많지 않으니, 한글 글꼴 파일을 기준으로, 영문이나 특수문자 유니코드에 대응되는 기호들만 덮어 쓰자는 아이디어입니다.

폰트포지(fontforge) 같은 글꼴 에디터로 한글 글꼴 파일을 열어 두고, 영문 고정폭 글꼴의 글자들을 가져와 수작업으로 붙여 넣는 것이지요. 한글 글꼴 폭의 절반으로 너비를 조정해가며 한땀한땀 가져와 붙이면 될 것 같습니다.

그리고 만약, `.ttf` 파일을 조작하는 것이 어렵지 않다면, 이 작업을 자동으로 할 수 있는 툴을 만들 수 있을 지도 모르겠다는 생각도 있습니다만, 간단하지는 않을 것 같습니다.

[iTerm]: https://www.iterm2.com
[Emacs]: https://emacsformacosx.com
[D2 Coding 글꼴]: http://dev.naver.com/projects/d2coding/
[나눔고딕 코딩글꼴]: http://dev.naver.com/projects/nanumfont/
[Homebrew]: http://brew.sh
